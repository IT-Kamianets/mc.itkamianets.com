<section class="list-items-section py-[var(--sp-12)]">
	@if (showSearch()) {
		<div class="mb-[var(--sp-12)] text-center">
			<div class="mt-8 max-w-md mx-auto">
				<div class="relative group">
					<input
						type="text"
						[value]="searchQuery()"
						(input)="searchQuery.set($any($event.target).value)"
						placeholder="–ü–æ—à—É–∫ –ø–æ–¥—ñ–π –∑–∞ –Ω–∞–∑–≤–æ—é..."
						class="w-full px-6 py-4 rounded-[var(--radius-btn)] border border-[var(--c-border)] bg-[var(--c-bg-secondary)] shadow-lg focus:outline-none focus:ring-4 focus:ring-[var(--c-primary)]/10 transition-all text-[var(--c-text-primary)]"
					/>
					@if (searchQuery()) {
						<button
							(click)="clearSearch()"
							class="absolute right-4 top-1/2 -translate-y-1/2 w-8 h-8 rounded-full bg-[var(--c-bg-tertiary)] flex items-center justify-center hover:bg-[var(--c-border)] transition-colors"
						>
							<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
							</svg>
						</button>
					}
				</div>
			</div>
		</div>
	}

	@if (displayItems().length > 0) {
		<div 
			class="grid gap-8 animate-slide-up"
			[class.grid-cols-1]="itemsPerRow() === 1"
			[class.sm:grid-cols-2]="itemsPerRow() >= 2"
			[class.lg:grid-cols-3]="itemsPerRow() >= 3"
			[class.xl:grid-cols-4]="itemsPerRow() >= 4"
		>
			@for (item of displayItems(); track item.id) {
				<app-list-item [item]="item" class="h-full" />
			}
		</div>
	} @else {
		<div class="text-center py-20 bg-[var(--c-bg-secondary)] rounded-[var(--radius-card)] border border-[var(--c-border)] shadow-xl">
			<div class="mb-4 text-5xl opacity-20">üîç</div>
			<p class="text-[var(--c-text-muted)] text-lg font-medium">–ù—ñ—á–æ–≥–æ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ –∑–∞ –≤–∞—à–∏–º –∑–∞–ø–∏—Ç–æ–º.</p>
			@if (searchQuery()) {
				<button 
					(click)="clearSearch()"
					class="mt-6 px-8 py-3 bg-[var(--c-bg-tertiary)] border border-[var(--c-border)] rounded-[var(--radius-btn)] font-bold hover:bg-[var(--c-border)] transition-colors"
				>
					–û—á–∏—Å—Ç–∏—Ç–∏ –ø–æ—à—É–∫
				</button>
			}
		</div>
	}

	@if (showViewAllButton() && items().length > maxItems()) {
		<div class="mt-16 text-center">
			<button
				(click)="onViewAllClick()"
				class="px-12 py-5 bg-[var(--c-bg-secondary)] border-2 border-[var(--c-primary)] text-[var(--c-primary)] text-lg font-bold rounded-[var(--radius-btn)] hover:bg-[var(--c-primary)] hover:text-white transition-all duration-300 shadow-xl shadow-[var(--c-primary)]/10 hover:shadow-2xl hover:-translate-y-1"
			>
				–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –≤—Å—ñ –ø–æ–¥—ñ—ó
			</button>
		</div>
	}
</section>
