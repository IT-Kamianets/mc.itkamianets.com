<section class="py-16 animate-fade-in">
	<div class="text-center mb-12">
		<h2 class="text-3xl font-extrabold tracking-tight text-[var(--c-text-secondary)] sm:text-4xl">
			{{ title() }}
		</h2>
		<div class="h-1 w-20 bg-[var(--c-primary)] mx-auto mt-4 rounded-full"></div>
		
		@if (showSearch()) {
			<div class="mt-8 max-w-md mx-auto relative">
				<input
					type="text"
					[value]="searchQuery()"
					(input)="searchQuery.set($any($event.target).value)"
					placeholder="Пошук подій..."
					class="w-full px-6 py-3 rounded-full border border-[var(--c-border-primary)] bg-[var(--c-bg-secondary)] text-[var(--c-text-primary)] focus:outline-none focus:ring-2 focus:ring-[var(--c-primary)] transition-all shadow-sm"
				/>
				@if (searchQuery()) {
					<button
						(click)="clearSearch()"
						class="absolute right-4 top-1/2 -translate-y-1/2 text-[var(--c-text-muted)] hover:text-[var(--c-text-primary)]"
					>
						✕
					</button>
				}
			</div>
		}
	</div>

	@if (displayItems().length > 0) {
		<div 
			class="grid gap-8"
			[class.grid-cols-1]="itemsPerRow() === 1"
			[class.sm:grid-cols-2]="itemsPerRow() >= 2"
			[class.lg:grid-cols-3]="itemsPerRow() >= 3"
			[class.xl:grid-cols-4]="itemsPerRow() >= 4"
		>
			@for (item of displayItems(); track item.id) {
				<app-list-item [item]="item" />
			}
		</div>
	} @else {
		<div class="text-center py-16 bg-[var(--c-bg-secondary)] rounded-[var(--radius)] border-2 border-[var(--c-border-primary)] border-dashed">
			<p class="text-[var(--c-text-muted)] text-lg">Нічого не знайдено за вашим запитом.</p>
			@if (searchQuery()) {
				<button 
					(click)="clearSearch()"
					class="mt-4 px-6 py-2 bg-[var(--c-primary)] text-white rounded-full font-medium hover:bg-[var(--c-primary-hover)] transition-colors"
				>
					Очистити пошук
				</button>
			}
		</div>
	}

	@if (showViewAllButton()) {
		<div class="mt-12 text-center">
			<button
				(click)="onViewAllClick()"
				class="inline-flex items-center px-10 py-4 bg-[var(--c-primary)] text-white font-bold rounded-[var(--radius)] hover:bg-[var(--c-primary-hover)] transition-all shadow-lg hover:shadow-xl hover:-translate-y-1"
			>
				Всі події
			</button>
		</div>
	}
</section>
