<header class="header">
	<nav class="mx-auto max-w-7xl px-3 py-1.5 sm:px-4 sm:py-2">
		<div class="flex items-center justify-between gap-4">
			<!-- Left: Logo (Home Link) -->
			<div class="flex items-center shrink-0">
				<a routerLink="/" class="flex items-center group transition-transform hover:scale-105 active:scale-95">
					<div
						class="h-10 w-10 overflow-hidden rounded-xl border-2 border-[var(--c-primary)]/10 shadow-sm bg-white p-1">
						<img src="mc.png" alt="Logo" class="h-full w-full object-contain" />
					</div>
				</a>
			</div>

			<!-- Center: Navigation Links (Desktop) -->
			<div class="header__nav hidden sm:flex flex-wrap justify-center gap-1">
				<a routerLink="/" [routerLinkActiveOptions]="{ exact: true }" routerLinkActive="header__link--active"
					class="header__link rounded-md px-3 py-2 text-sm font-semibold transition">–ì–æ–ª–æ–≤–Ω–∞</a>
				<a routerLink="/list" routerLinkActive="header__link--active"
					class="header__link rounded-md px-3 py-2 text-sm font-semibold transition">–ü–æ–¥—ñ—ó</a>
				<a routerLink="/gallery" routerLinkActive="header__link--active"
					class="header__link rounded-md px-3 py-2 text-sm font-semibold transition">–ì–∞–ª–µ—Ä–µ—è</a>
				<a routerLink="/contacts" routerLinkActive="header__link--active"
					class="header__link rounded-md px-3 py-2 text-sm font-semibold transition">–ö–æ–Ω—Ç–∞–∫—Ç–∏</a>
			</div>

			<!-- Right: Theme Menu Trigger -->
			<div class="relative shrink-0 flex items-center gap-2">
				<!-- Navigation Links (Mobile icon or text) - keeping it simple for now as per user request to wrap theme controls -->
				<!-- Mobile Menu Trigger -->
				<button (click)="toggleMobileMenu()"
					class="sm:hidden p-2 rounded-md hover:bg-[var(--c-bg-tertiary)] transition-colors border border-[var(--c-border)] flex items-center justify-center h-[34px] w-[34px]"
					title="–ú–µ–Ω—é">
					<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
						stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
						<line x1="3" y1="12" x2="21" y2="12"></line>
						<line x1="3" y1="6" x2="21" y2="6"></line>
						<line x1="3" y1="18" x2="21" y2="18"></line>
					</svg>
				</button>

				<!-- Mobile Menu Dropdown -->
				@if (showMobileMenu()) {
				<div
					class="header__menu absolute right-0 top-full mt-2 w-48 bg-[var(--c-bg-secondary)] border border-[var(--c-border)] rounded-[var(--radius)] shadow-lg z-[100] p-2 overflow-hidden animate-in fade-in zoom-in-95 duration-200">
					<div class="flex flex-col gap-1">
						<a routerLink="/" (click)="showMobileMenu.set(false)"
							routerLinkActive="bg-[var(--c-bg-tertiary)] text-[var(--c-primary)]"
							[routerLinkActiveOptions]="{ exact: true }"
							class="px-3 py-2 rounded-md text-sm font-medium hover:bg-[var(--c-bg-tertiary)] transition-colors">
							–ì–æ–ª–æ–≤–Ω–∞
						</a>
						<a routerLink="/list" (click)="showMobileMenu.set(false)"
							routerLinkActive="bg-[var(--c-bg-tertiary)] text-[var(--c-primary)]"
							class="px-3 py-2 rounded-md text-sm font-medium hover:bg-[var(--c-bg-tertiary)] transition-colors">
							–ü–æ–¥—ñ—ó
						</a>
						<a routerLink="/gallery" (click)="showMobileMenu.set(false)"
							routerLinkActive="bg-[var(--c-bg-tertiary)] text-[var(--c-primary)]"
							class="px-3 py-2 rounded-md text-sm font-medium hover:bg-[var(--c-bg-tertiary)] transition-colors">
							–ì–∞–ª–µ—Ä–µ—è
						</a>
						<a routerLink="/contacts" (click)="showMobileMenu.set(false)"
							routerLinkActive="bg-[var(--c-bg-tertiary)] text-[var(--c-primary)]"
							class="px-3 py-2 rounded-md text-sm font-medium hover:bg-[var(--c-bg-tertiary)] transition-colors">
							–ö–æ–Ω—Ç–∞–∫—Ç–∏
						</a>
					</div>
				</div>
				}

				<button (click)="toggleThemeMenu()"
					class="header__theme-btn p-2 rounded-md hover:bg-[var(--c-bg-tertiary)] transition-colors border border-[var(--c-border)]"
					title="–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–µ–º–∏ (Theme Settings)">
					üé®
				</button>

				<!-- Theme Settings Menu -->
				@if (showThemeMenu()) {
				<div
					class="header__menu absolute right-0 top-full mt-2 w-48 bg-[var(--c-bg-secondary)] border border-[var(--c-border)] rounded-[var(--radius)] shadow-lg z-[100] p-3 ">
					<div class="space-y-4">
						<div>
							<p class="text-[10px] uppercase font-bold text-[var(--c-text-muted)] mb-1.5">–¢–µ–º–∞</p>
							<div class="header__seg flex w-full">
								@for (m of modes; track m) {
								<button type="button" class="header__seg-btn flex-1 text-[11px] transition"
									[class.header__seg-btn--active]="theme.mode() === m" (click)="setMode(m)">{{ m
									}}</button>
								}
							</div>
						</div>
						<div>
							<p class="text-[10px] uppercase font-bold text-[var(--c-text-muted)] mb-1.5">–©—ñ–ª—å–Ω—ñ—Å—Ç—å</p>
							<div class="header__seg flex w-full">
								@for (d of densities; track d) {
								<button type="button" class="header__seg-btn flex-1 text-[11px] transition"
									[class.header__seg-btn--active]="theme.density() === d" (click)="setDensity(d)">{{ d
									=== 'comfortable' ? '–ö–æ–º—Ñ' : '–ö–æ–º–ø' }}</button>
								}
							</div>
						</div>
						<div>
							<p class="text-[10px] uppercase font-bold text-[var(--c-text-muted)] mb-1.5">–†–∞–¥—ñ—É—Å</p>
							<div class="header__seg flex w-full">
								@for (r of radii; track r) {
								<button type="button" class="header__seg-btn flex-1 text-[11px] transition"
									[class.header__seg-btn--active]="theme.radius() === r" (click)="setRadius(r)">{{ r
									=== 'rounded' ? '–ó–∞–∫—Ä' : '–ö–≤–∞–¥' }}</button>
								}
							</div>
						</div>
					</div>
				</div>
				}
			</div>
		</div>
	</nav>
</header>